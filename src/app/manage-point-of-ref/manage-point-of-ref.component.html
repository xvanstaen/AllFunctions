


<div *ngIf="istabPointOfRef===true">
    <div style="margin-left:100px; color:blue; font-size:18px;">POINT OF REFERENCE </div>

    <!--   Display dropdown for actions on a given item -->
    <div *ngIf="tabDialog[0]===true" style="margin-left:20px; margin-top:10px;"> <!-- class="dropDown" -->
            <div class=" StraightDropDown" style="margin-left:20px; background-color: cyan;"> <!-- class=" StraightDropDown"> -->
                <span style="width:100%; display:inline-block;">
                   <span style="width:100%; display:inline-block; text-align: center;  ">{{tabPoR[TabOfId[0]].ref}}</span>
                </span>
                <span style="width:100%; display:inline-block;">
                    <span style="width:150px; display:inline-block; padding-left: 50px;">latitude: </span><span style="width:100px; display:inline-block; padding-left: 10px;">{{tabPoR[TabOfId[0]].lat}}</span>
                </span>
                <span style="width:100%; display:inline-block;">
                    <span style="width:150px; display:inline-block; padding-left: 50px;">longitude: </span><span style="width:100px; display:inline-block; padding-left: 10px;">{{tabPoR[TabOfId[0]].lgt}}</span>
                </span>
            </div>
            <div  class=" StraightDropDown"    style="margin-left:20px; height:77px;">
                <li class="Straight-options" *ngFor="let tab of tabAction; let i=index; " [ngClass]="{'even': i % 4 === 0 || i % 4 === 3, 'odd': i % 4 === 1 || i % 4 === 2}">
                    <span style="width:100%; display:inline-block; padding-left: 10px;"  id="selAction-{{TabOfId[0]}}-{{i}}" (click)="onActionPoR($event)">{{tab}}</span>
                </li>
            </div>
    </div>

    <div *ngIf="isUpdateRef===true || isAddRef===true || isDeleteRef===true" [formGroup]="formOptions" style="margin-left:40px; width:400px; display:inline-block; border:solid 2px blue; margin-top:10px;">
        <span *ngIf="isUpdateRef===true" style="margin-left:80px; color:blue; font-size: 16px; ">Modify Point Of Reference</span>
        <span *ngIf="isAddRef===true" style="margin-left:80px; color:blue; font-size: 16px;  ">Add Point Of Reference</span>
        <span *ngIf="isDeleteRef===true" style="margin-left:80px; color:blue; font-size: 16px;  ">Delete Point Of Reference</span>
        
       <div style="margin-top:10px;">
            <label class="theLabel" style="padding-top:2px;" >reference</label>
            <input type="text"  class="inputText" formControlName="pointRef" value="pointRef" >
        </div>
     
        <div style="display:inline-block; height;32x; width:100%;">
            <label class="theLabel" style="padding-top:2px;">latitude</label>
            <input type="text"   class="inputText" formControlName="lat" value="lat" >
        </div>
       
        <div style="display:inline-block; height;32px; width:100%;">
            <label class="theLabel" style="padding-top:2px;">longitude</label>
            <input type="text"   class="inputText" formControlName="lgt" value="lgt" >
        </div>
       
        <button *ngIf="isUpdateRef===true"  id='confirmModify-{{TabOfId[0]}}' class="sizeButtons"  style="width:120px;" (click)="onActionPoR($event)"> Confirm modif</button>
        <button *ngIf="isAddRef===true"  id='confirmAdd-{{TabOfId[0]}}' class="sizeButtons"  style="width:120px;" (click)="onActionPoR($event)"> Confirm Add</button>
        <button *ngIf="isDeleteRef===true"  id='confirmDel-{{TabOfId[0]}}' class="sizeButtons"  style="width:120px;" (click)="onActionPoR($event)"> Confirm delete</button>
        <button  id='cancelAction-{{TabOfId[0]}}' class="sizeButtons"  style="width:120px;" (click)="onActionPoR($event)"> Cancel actione</button>
        <div class="skipline error" *ngIf="errorMsg!==''">errorMsg</div>
        <div class="skipLine"></div>
    </div>
    <div class="skipLine"></div>

    <div *ngIf="isFileModified===true && tabDialog[0]===false" style="border:solid 1px red; width:450px; display:inline-block; margin-left:40px;">
        
        <div *ngIf="saveConfirmed===false">
            <label style="width:100%; text-align: center; display:inline-block; color:blue; font-size:16px;" >File has been modified </label>
            <label  style="width:40%; margin-left:15px; display:inline-block; color:blue; font-size:14px;" >Do you want to save it?</label>
            <button   id='confirmSave' class="sizeButtons" style="width:80px;" (click)="manageUpdates($event)"> YES </button>
            <!-- 
            <button   id='cancelSave' class="sizeButtons"  style="width:80px;" (click)="manageUpdates($event)"> Cancel </button>
            -->
            <div class="skipLine"></div>
            <label style="width:100%; margin-left:15px; display:inline-block; color:blue; font-size:14px;" >Do you want to cancel all your updates?</label>
            <button   id='reinitialize' class="sizeButtons"  style="width:80px;" (click)="manageUpdates($event)"> YES </button>
            <button   id='noReinit' class="sizeButtons"  style="width:80px;" (click)="manageUpdates($event)"> NO </button>
            <div class="skipLine"></div>
        </div>
        <div *ngIf="saveConfirmed===true"  [formGroup]="formOptions">
            <label  style="width:90%; margin-left:15px; display:inline-block; color:blue; font-size:14px;" >Name of the file to update</label>
            <input type="text"  class="inputText" style="width:90%; margin-left:15px;" formControlName="fileName" value="fileName" >
            <button   id='saveFile' class="sizeButtons" style="margin-top:10px; margin-left:80px; width:80px;" (click)="manageUpdates($event)"> Submit </button>
            <button   id='cancelSave' class="sizeButtons"  style="width:80px;" (click)="manageUpdates($event)"> Cancel save</button>
            <div class="skipLine"></div>
        </div>
        
    </div>

   
    <div *ngIf="errorMessage!==''" style="width:100%; display:inline-flex; color:red; margin-left:40px; font-size: 14px;;">
        <div class="skipLine"></div> {{errorMessage}}
    </div>
<!-- tabDialog[0]===false && -->
<div style="width:100%; display:inline-block;" [ngStyle]="{'margin-top.px': tabDialog[0]===true ? 10 : 10}">
    <table  style="margin-left:40px;"> <!-- *ngIf="isDeleteRef===false && isUpdateRef===false && isDeleteRef===false" -->
            <thead>
                <tr>
                    <th class="tabH" style="width:20px;" >A </th>
                    <th class="tabH"  >Reference </th>
                    <th class="tabH"  style="width:150px;">Latitude </th>
                    <th class="tabH"  style="width:150px;">Longitude </th>
    
                </tr>
            </thead>
            <tbody >
                <tr *ngFor="let tab of tabPoR; let i=index" >
                    <td class="tabRow action" style="border-left:solid 1px blue; "  [ngClass]="{'even':i % 2 ===0, 'odd': i % 2 !==0}" (click)="onActionPoR($event)" id="Action-{{i}}"> A </td>
                    <td class="tabRow" style="border-left:solid 1px blue; text-align: left; padding-left:10px; " [ngClass]="{'even':i % 2 ===0, 'odd': i % 2 !==0}" >{{tab.ref}} </td>
                    <td class="tabRow" [ngClass]="{'even':i % 2 ===0, 'odd': i % 2 !==0}">{{tab.lat}}</td>
                    <td class="tabRow" style="border-right:solid 1px blue; " [ngClass]="{'even':i % 2 ===0, 'odd': i % 2 !==0}">{{tab.lgt}}</td>
                    
                </tr>
            </tbody>    
        </table>
    </div>
</div>
<div class="skipLine"></div>
